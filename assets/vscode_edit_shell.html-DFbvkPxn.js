import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,d as t,o as l}from"./app-DOFjIsLX.js";const a={};function n(h,s){return l(),e("div",null,s[0]||(s[0]=[t(`<h1 id="_8-shell-脚本" tabindex="-1"><a class="header-anchor" href="#_8-shell-脚本"><span>8.Shell 脚本</span></a></h1><h2 id="shell-脚本扩展" tabindex="-1"><a class="header-anchor" href="#shell-脚本扩展"><span>Shell 脚本扩展</span></a></h2><p><code>ShellCheck</code></p><p>可以提前检查出一些 不标准的 Shell 错误和警告，让你写出严格的 Shell 脚本，提前避免一些兼容性问题。</p><p><a href="https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck" target="_blank" rel="noopener noreferrer">https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck</a></p><p><code>shell-format</code></p><p>支持 <code>.sh</code> <code>.bash</code> 等脚本的高亮和格式化。</p><p><a href="https://marketplace.visualstudio.com/items?itemName=foxundermoon.shell-format" target="_blank" rel="noopener noreferrer">https://marketplace.visualstudio.com/items?itemName=foxundermoon.shell-format</a></p><p>非常好用的一款 shell 脚本格式化插件，但是安装插件后可能无法直接使用，需要如下操作。</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 下载 shfmt</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">go</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mvdan.cc/sh/v3/cmd/shfmt@latest</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 一般来说安装位置会在 \`~/go/bin/shfmt\` 下</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># MacOS 和 Linux 执行如下命令 创建软链接即可</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/go/bin/shfmt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/local/bin/shfmt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Windows 下则需要如下命令</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># windows PowerShell 则需要进行如下操作 (当shfmt更新后，需要重新执行一下)</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Copy-Item</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Path </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;~/go/bin/shfmt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Destination </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/usr/local/bin/shfmt&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Force</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">Copy-Item</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Path </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;~/go/bin/shfmt.exe&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Destination </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/usr/local/bin/shfmt.exe&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Force</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果目录不存在则执行</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mkdir </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">usr</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">local</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">bin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后在 vscode 配置文件中：</p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" data-title="settings.json" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  &quot;shellformat.path&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/usr/local/bin/shfmt&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>实测， <code>settings.json</code> 中无法支持 <code>~/go/bin/shfmt</code> 或者 <code>$HOME/go/bin/shfmt</code> 这样的路径。<br> 但是 <code>/usr/local/bin/shfmt</code> 在 Windows 下会被翻译成 <code>C:\\usr\\local\\bin\\shfmt</code></p></blockquote>`,15)]))}const p=i(a,[["render",n],["__file","vscode_edit_shell.html.vue"]]),d=JSON.parse('{"path":"/tools/vscode/vscode_edit_shell.html","title":"8.Shell 脚本","lang":"zh-CN","frontmatter":{"category":["工具"],"tag":["VSCode","目录"],"order":8,"permalink":"/tools/vscode/vscode_edit_shell.html","description":"8.Shell 脚本 Shell 脚本扩展 ShellCheck 可以提前检查出一些 不标准的 Shell 错误和警告，让你写出严格的 Shell 脚本，提前避免一些兼容性问题。 https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck shell-format 支...","head":[["meta",{"property":"og:url","content":"https://blog.mo7.cc/tools/vscode/vscode_edit_shell.html"}],["meta",{"property":"og:site_name","content":"墨七"}],["meta",{"property":"og:title","content":"8.Shell 脚本"}],["meta",{"property":"og:description","content":"8.Shell 脚本 Shell 脚本扩展 ShellCheck 可以提前检查出一些 不标准的 Shell 错误和警告，让你写出严格的 Shell 脚本，提前避免一些兼容性问题。 https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck shell-format 支..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-22T03:16:04.000Z"}],["meta",{"property":"article:tag","content":"VSCode"}],["meta",{"property":"article:tag","content":"目录"}],["meta",{"property":"article:modified_time","content":"2024-10-22T03:16:04.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"8.Shell 脚本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-22T03:16:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"墨七\\",\\"url\\":\\"https://mo7.cc\\",\\"email\\":\\"mo7@mo7.cc\\"}]}"],["link",{"rel":"alternate","type":"application/atom+xml","href":"https://blog.mo7.cc/atom.xml","title":"墨七 Atom Feed"}],["link",{"rel":"alternate","type":"application/json","href":"https://blog.mo7.cc/feed.json","title":"墨七 JSON Feed"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://blog.mo7.cc/rss.xml","title":"墨七 RSS Feed"}]]},"headers":[{"level":2,"title":"Shell 脚本扩展","slug":"shell-脚本扩展","link":"#shell-脚本扩展","children":[]}],"git":{"createdTime":1728443773000,"updatedTime":1729566964000,"contributors":[{"name":"墨七","email":"meichangliang@outlook.com","commits":1}]},"readingTime":{"minutes":0.89,"words":268},"filePathRelative":"tools/vscode/8.Shell脚本.md","localizedDate":"2024年10月9日","excerpt":"\\n<h2>Shell 脚本扩展</h2>\\n<p><code>ShellCheck</code></p>\\n<p>可以提前检查出一些 不标准的 Shell 错误和警告，让你写出严格的 Shell 脚本，提前避免一些兼容性问题。</p>\\n<p><a href=\\"https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">https://marketplace.visualstudio.com/items?itemName=timonwong.shellcheck</a></p>","autoDesc":true}');export{p as comp,d as data};
